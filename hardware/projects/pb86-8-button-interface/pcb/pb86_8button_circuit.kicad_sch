(kicad_sch (version 20211123) (generator "eeschema") (generator_version "5.99.0-recipe"))

(general (thickness 1.6) (paper "A4"))

(title_block
  (title "PB86 8-Button Circuit")
  (date "2026-01-16")
  (rev "1")
  (company "White Room Hardware")
  (comment 1 "Input: MCP23017 (8 channels)")
  (comment 2 "Output: 74HC595 (8 channels)")
  (comment 3 "8Ã— PB86 buttons with built-in LEDs")
  (comment 4 "SPICE validated: LED current 20mA, power 160mA")
)

(lib_symbols
  (symbol "Device:R" (pin_numbers hide) (pin_names (offset 0)) (in_bom yes) (on_board yes)
    (property "Reference" "R" (id 0) (at 2.032 0) (effects (font (size 1.27 1.27))))
    (property "Value" "150" (id 1) (at 0.762 -1.778) (effects (font (size 1.27 1.27))))
    (property "Footprint" "Resistor_THT:R_Axial_DIN0207_L6.3mm_D2.5mm_P10.16mm_Horizontal" (id 2) (at 0 0) (effects (font (size 1.27 1.27)) hide))
    (symbol "R_0_1"
      (polyline
        (pts (xy -0.762 0) (xy 0 -0.762))
        (stroke (width 0.254) (type default))
      )
      (polyline
        (pts (xy 0 -0.762) (xy 0.762 0))
        (stroke (width 0.254) (type default))
      )
      (polyline
        (pts (xy 0.762 0) (xy -0 0.762))
        (stroke (width 0.254) (type default))
      )
      (polyline
        (pts (xy -0 0.762) (xy -0.762 0))
        (stroke (width 0.254) (type default))
      )
    )
    (pin "1" passive (at 0 2.54 270) (length 1.778))
    (pin "2" passive (at 0 -2.54 90) (length 1.778))
  )

  (symbol "Device:LED" (pin_numbers hide) (pin_names (offset 0)) (in_bom yes) (on_board yes)
    (property "Reference" "D" (id 0) (at 0 -2.54) (effects (font (size 1.27 1.27))))
    (property "Value" "LED_R" (id 1) (at 0 0) (effects (font (size 1.27 1.27))))
    (property "Footprint" "LED_THT:LED_D5.0mm" (id 2) (at 0 0) (effects (font (size 1.27 1.27)) hide))
    (symbol "LED_0_1"
      (polyline
        (pts (xy -1.27 -1.27) (xy -1.27 1.27) (xy 0 0))
        (stroke (width 0.254) (type default))
        (fill (type none))
      )
      (polyline
        (pts (xy 0 0) (xy 1.27 -1.27) (xy 1.27 1.27) (xy 0 0))
        (stroke (width 0.254) (type default))
        (fill (type none))
      )
      (polyline
        (pts (xy -0.635 0) (xy 0 -0.635) (xy 0.635 0))
        (stroke (width 0.254) (type default))
        (fill (type none))
      )
    )
    (pin "A" passive (at 2.54 0 180) (length 2.54))
    (pin "C" passive (at -2.54 0 0) (length 2.54))
  )

  (symbol "MCU_Microchip_CP2102:CP2102-GM" (in_bom yes) (on_board yes)
    (property "Reference" "U1" (id 0) (at 0 0) (effects (font (size 1.27 1.27))))
    (property "Value" "MCP23017" (id 1) (at 0 2.54) (effects (font (size 1.27 1.27))))
    (property "Footprint" "Package_DIP:DIP-28_W15.24mm_Socket" (id 2) (at 0 0) (effects (font (size 1.27 1.27)) hide))
    (symbol "MCP23017_0_1"
      (rectangle (start -10.16 15.24) (end 10.16 -15.24))
      (text "MCP23017" (at 0 16.51) (effects (font (size 1.27 1.27))))
      (pin "GPB0" bidirectional (at -12.7 12.7 0) (length 2.54))
      (pin "GPB1" bidirectional (at -12.7 10.16 0) (length 2.54))
      (pin "GPB2" bidirectional (at -12.7 7.62 0) (length 2.54))
      (pin "GPB3" bidirectional (at -12.7 5.08 0) (length 2.54))
      (pin "GPB4" bidirectional (at -12.7 2.54 0) (length 2.54))
      (pin "GPB5" bidirectional (at -12.7 0 0) (length 2.54))
      (pin "GPB6" bidirectional (at -12.7 -2.54 0) (length 2.54))
      (pin "GPB7" bidirectional (at -12.7 -5.08 0) (length 2.54))
      (pin "VDD" power_in (at 12.7 12.7 180) (length 2.54))
      (pin "VSS" power_in (at 12.7 -12.7 180) (length 2.54))
      (pin "SDA" bidirectional (at 12.7 10.16 180) (length 2.54))
      (pin "SCL" input (at 12.7 7.62 180) (length 2.54))
      (pin "A0" input (at 12.7 2.54 180) (length 2.54))
      (pin "A1" input (at 12.7 0 180) (length 2.54))
      (pin "A2" input (at 12.7 -2.54 180) (length 2.54))
    )
  )

  (symbol "74xGxx:74HC595" (in_bom yes) (on_board yes)
    (property "Reference" "U2" (id 0) (at 0 0) (effects (font (size 1.27 1.27))))
    (property "Value" "74HC595" (id 1) (at 0 2.54) (effects (font (size 1.27 1.27))))
    (property "Footprint" "Package_DIP:DIP-16_W7.62mm" (id 2) (at 0 0) (effects (font (size 1.27 1.27)) hide))
    (symbol "74HC595_0_1"
      (rectangle (start -7.62 10.16) (end 7.62 -10.16))
      (text "74HC595" (at 0 11.43) (effects (font (size 1.27 1.27))))
      (pin "QA" output (at 10.16 7.62 180) (length 2.54))
      (pin "QB" output (at 10.16 5.08 180) (length 2.54))
      (pin "QC" output (at 10.16 2.54 180) (length 2.54))
      (pin "QD" output (at 10.16 0 180) (length 2.54))
      (pin "QE" output (at 10.16 -2.54 180) (length 2.54))
      (pin "QF" output (at 10.16 -5.08 180) (length 2.54))
      (pin "QG" output (at 10.16 -7.62 180) (length 2.54))
      (pin "QH" output (at 10.16 -10.16 180) (length 2.54))
      (pin "DS" input (at -10.16 7.62 0) (length 2.54))
      (pin "OE" input (at -10.16 5.08 0) (length 2.54))
      (pin "ST_CP" input (at -10.16 2.54 0) (length 2.54))
      (pin "SH_CP" input (at -10.16 0 0) (length 2.54))
      (pin "MR" input (at -10.16 -2.54 0) (length 2.54))
      (pin "QH'" output (at 10.16 10.16 180) (length 2.54))
      (pin "VCC" power_in (at -10.16 -5.08 0) (length 2.54))
      (pin "GND" power_in (at -10.16 -7.62 0) (length 2.54))
    )
  )

  (symbol "PB86:PB86_Button" (in_bom yes) (on_board yes)
    (property "Reference" "SW" (id 0) (at 0 0) (effects (font (size 1.27 1.27))))
    (property "Value" "PB86" (id 1) (at 0 2.54) (effects (font (size 1.27 1.27))))
    (property "Footprint" "Button_Switch_THT:PB86" (id 2) (at 0 0) (effects (font (size 1.27 1.27)) hide))
    (symbol "PB86_0_1"
      (rectangle (start -5.08 7.62) (end 5.08 -7.62))
      (text "PB86" (at 0 8.89) (effects (font (size 1.27 1.27))))
      (pin "1" passive (at -7.62 5.08 0) (length 2.54))
      (pin "2" passive (at -7.62 2.54 0) (length 2.54))
      (pin "3" passive (at -7.62 0 0) (length 2.54))
      (pin "4" passive (at -7.62 -2.54 0) (length 2.54))
      (pin "5" passive (at -7.62 -5.08 0) (length 2.54))
      (pin "6" passive (at -7.62 -7.62 0) (length 2.54))
    )
  )

  (symbol "power:+5V" (power) (pin_names (offset 0)) (in_bom yes) (on_board yes)
    (property "Reference" "#PWR" (id 0) (at 0 -2.54) (effects (font (size 1.27 1.27))))
    (property "Value" "+5V" (id 1) (at 0 0) (effects (font (size 1.27 1.27))))
    (symbol "+5V_0_1"
      (polyline
        (pts (xy -0.762 1.27) (xy 0 2.54) (xy 0.762 1.27))
        (stroke (width 0.254) (type default))
        (fill (type none))
      )
      (polyline
        (pts (xy 0 0) (xy 0 -2.54))
        (stroke (width 0.254) (type default))
      )
    )
    (pin "1" power_out (at 0 3.81 270) (length 2.54))
  )

  (symbol "power:GND" (power) (pin_names (offset 0)) (in_bom yes) (on_board yes)
    (property "Reference" "#PWR" (id 0) (at 0 -2.54) (effects (font (size 1.27 1.27))))
    (property "Value" "GND" (id 1) (at 0 0) (effects (font (size 1.27 1.27))))
    (symbol "GND_0_1"
      (polyline
        (pts (xy -1.27 0) (xy 0 -1.27) (xy 1.27 0))
        (stroke (width 0.254) (type default))
        (fill (type none))
      )
      (polyline
        (pts (xy 0 0) (xy 0 -1.27) (xy 0 -2.54))
        (stroke (width 0.254) (type default))
      )
    )
    (pin "1" power_out (at 0 0 270) (length 2.54))
  )
)

(sheet (name "PB86 8-Button Circuit") (instances
  (instance "R1" (reference "R1") (unit 1) (value "150") (footprint "Resistor_THT:R_Axial_DIN0207_L6.3mm_D2.5mm_P10.16mm_Horizontal"))
  (instance "R2" (reference "R2") (unit 1) (value "150") (footprint "Resistor_THT:R_Axial_DIN0207_L6.3mm_D2.5mm_P10.16mm_Horizontal"))
  (instance "R3" (reference "R3") (unit 1) (value "150") (footprint "Resistor_THT:R_Axial_DIN0207_L6.3mm_D2.5mm_P10.16mm_Horizontal"))
  (instance "R4" (reference "R4") (unit 1) (value "150") (footprint "Resistor_THT:R_Axial_DIN0207_L6.3mm_D2.5mm_P10.16mm_Horizontal"))
  (instance "R5" (reference "R5") (unit 1) (value "150") (footprint "Resistor_THT:R_Axial_DIN0207_L6.3mm_D2.5mm_P10.16mm_Horizontal"))
  (instance "R6" (reference "R6") (unit 1) (value "150") (footprint "Resistor_THT:R_Axial_DIN0207_L6.3mm_D2.5mm_P10.16mm_Horizontal"))
  (instance "R7" (reference "R7") (unit 1) (value "150") (footprint "Resistor_THT:R_Axial_DIN0207_L6.3mm_D2.5mm_P10.16mm_Horizontal"))
  (instance "R8" (reference "R8") (unit 1) (value "150") (footprint "Resistor_THT:R_Axial_DIN0207_L6.3mm_D2.5mm_P10.16mm_Horizontal"))

  (instance "D1" (reference "D1") (unit 1) (value "LED_R") (footprint "LED_THT:LED_D5.0mm"))
  (instance "D2" (reference "D2") (unit 1) (value "LED_R") (footprint "LED_THT:LED_D5.0mm"))
  (instance "D3" (reference "D3") (unit 1) (value "LED_R") (footprint "LED_THT:LED_D5.0mm"))
  (instance "D4" (reference "D4") (unit 1) (value "LED_R") (footprint "LED_THT:LED_D5.0mm"))
  (instance "D5" (reference "D5") (unit 1) (value "LED_R") (footprint "LED_THT:LED_D5.0mm"))
  (instance "D6" (reference "D6") (unit 1) (value "LED_R") (footprint "LED_THT:LED_D5.0mm"))
  (instance "D7" (reference "D7") (unit 1) (value "LED_R") (footprint "LED_THT:LED_D5.0mm"))
  (instance "D8" (reference "D8") (unit 1) (value "LED_R") (footprint "LED_THT:LED_D5.0mm"))

  (instance "U1" (reference "U1") (unit 1) (value "MCP23017") (footprint "Package_DIP:DIP-28_W15.24mm_Socket"))

  (instance "U2" (reference "U2") (unit 1) (value "74HC595") (footprint "Package_DIP:DIP-16_W7.62mm"))

  (instance "SW1" (reference "SW1") (unit 1) (value "PB86") (footprint "Button_Switch_THT:PB86"))
  (instance "SW2" (reference "SW2") (unit 1) (value "PB86") (footprint "Button_Switch_THT:PB86"))
  (instance "SW3" (reference "SW3") (unit 1) (value "PB86") (footprint "Button_Switch_THT:PB86"))
  (instance "SW4" (reference "SW4") (unit 1) (value "PB86") (footprint "Button_Switch_THT:PB86"))
  (instance "SW5" (reference "SW5") (unit 1) (value "PB86") (footprint "Button_Switch_THT:PB86"))
  (instance "SW6" (reference "SW6") (unit 1) (value "PB86") (footprint "Button_Switch_THT:PB86"))
  (instance "SW7" (reference "SW7") (unit 1) (value "PB86") (footprint "Button_Switch_THT:PB86"))
  (instance "SW8" (reference "SW8") (unit 1) (value "PB86") (footprint "Button_Switch_THT:PB86"))

  (instance "#PWR01" (reference "#PWR01") (unit 1) (value "+5V"))
  (instance "#PWR02" (reference "#PWR02") (unit 1) (value "GND"))
  (instance "#PWR03" (reference "#PWR03") (unit 1) (value "GND"))
)

(nets
  (net (code "1") (name "+5V")
    (node_ref (pin "#PWR01" 1))
    (node_ref (pin "U1" "VDD"))
    (node_ref (pin "U2" "VCC"))
  )

  (net (code "2") (name "GND")
    (node_ref (pin "#PWR02" 1))
    (node_ref (pin "#PWR03" 1))
    (node_ref (pin "U1" "VSS"))
    (node_ref (pin "U2" "GND"))
    (node_ref (pin "SW1" 1))
    (node_ref (pin "SW1" 2))
    (node_ref (pin "SW1" 6))
    (node_ref (pin "SW2" 1))
    (node_ref (pin "SW2" 2))
    (node_ref (pin "SW2" 6))
    (node_ref (pin "SW3" 1))
    (node_ref (pin "SW3" 2))
    (node_ref (pin "SW3" 6))
    (node_ref (pin "SW4" 1))
    (node_ref (pin "SW4" 2))
    (node_ref (pin "SW4" 6))
    (node_ref (pin "SW5" 1))
    (node_ref (pin "SW5" 2))
    (node_ref (pin "SW5" 6))
    (node_ref (pin "SW6" 1))
    (node_ref (pin "SW6" 2))
    (node_ref (pin "SW6" 6))
    (node_ref (pin "SW7" 1))
    (node_ref (pin "SW7" 2))
    (node_ref (pin "SW7" 6))
    (node_ref (pin "SW8" 1))
    (node_ref (pin "SW8" 2))
    (node_ref (pin "SW8" 6))
    (node_ref (pin "R1" 2))
    (node_ref (pin "R2" 2))
    (node_ref (pin "R3" 2))
    (node_ref (pin "R4" 2))
    (node_ref (pin "R5" 2))
    (node_ref (pin "R6" 2))
    (node_ref (pin "R7" 2))
    (node_ref (pin "R8" 2))
  )

  (net (code "3") (name "BUTTON1_IN")
    (node_ref (pin "U1" "GPB0"))
    (node_ref (pin "SW1" 3))
  )

  (net (code "4") (name "BUTTON2_IN")
    (node_ref (pin "U1" "GPB1"))
    (node_ref (pin "SW2" 3))
  )

  (net (code "5") (name "BUTTON3_IN")
    (node_ref (pin "U1" "GPB2"))
    (node_ref (pin "SW3" 3))
  )

  (net (code "6") (name "BUTTON4_IN")
    (node_ref (pin "U1" "GPB3"))
    (node_ref (pin "SW4" 3))
  )

  (net (code "7") (name "BUTTON5_IN")
    (node_ref (pin "U1" "GPB4"))
    (node_ref (pin "SW5" 3))
  )

  (net (code "8") (name "BUTTON6_IN")
    (node_ref (pin "U1" "GPB5"))
    (node_ref (pin "SW6" 3))
  )

  (net (code "9") (name "BUTTON7_IN")
    (node_ref (pin "U1" "GPB6"))
    (node_ref (pin "SW7" 3))
  )

  (net (code "10") (name "BUTTON8_IN")
    (node_ref (pin "U1" "GPB7"))
    (node_ref (pin "SW8" 3))
  )

  (net (code "11") (name "LED1")
    (node_ref (pin "U2" "QA"))
    (node_ref (pin "R1" 1))
    (node_ref (pin "SW1" 4))
    (node_ref (pin "SW1" 5))
    (node_ref (pin "D1" "A"))
  )

  (net (code "12") (name "LED1_CATHODE")
    (node_ref (pin "D1" "C"))
    (node_ref (pin "R1" 2))
  )

  (net (code "13") (name "LED2")
    (node_ref (pin "U2" "QB"))
    (node_ref (pin "R2" 1))
    (node_ref (pin "SW2" 4))
    (node_ref (pin "SW2" 5))
    (node_ref (pin "D2" "A"))
  )

  (net (code "14") (name "LED2_CATHODE")
    (node_ref (pin "D2" "C"))
    (node_ref (pin "R2" 2))
  )

  (net (code "15") (name "LED3")
    (node_ref (pin "U2" "QC"))
    (node_ref (pin "R3" 1))
    (node_ref (pin "SW3" 4))
    (node_ref (pin "SW3" 5))
    (node_ref (pin "D3" "A"))
  )

  (net (code "16") (name "LED3_CATHODE")
    (node_ref (pin "D3" "C"))
    (node_ref (pin "R3" 2))
  )

  (net (code "17") (name "LED4")
    (node_ref (pin "U2" "QD"))
    (node_ref (pin "R4" 1))
    (node_ref (pin "SW4" 4))
    (node_ref (pin "SW4" 5))
    (node_ref (pin "D4" "A"))
  )

  (net (code "18") (name "LED4_CATHODE")
    (node_ref (pin "D4" "C"))
    (node_ref (pin "R4" 2))
  )

  (net (code "19") (name "LED5")
    (node_ref (pin "U2" "QE"))
    (node_ref (pin "R5" 1))
    (node_ref (pin "SW5" 4))
    (node_ref (pin "SW5" 5))
    (node_ref (pin "D5" "A"))
  )

  (net (code "20") (name "LED5_CATHODE")
    (node_ref (pin "D5" "C"))
    (node_ref (pin "R5" 2))
  )

  (net (code "21") (name "LED6")
    (node_ref (pin "U2" "QF"))
    (node_ref (pin "R6" 1))
    (node_ref (pin "SW6" 4))
    (node_ref (pin "SW6" 5))
    (node_ref (pin "D6" "A"))
  )

  (net (code "22") (name "LED6_CATHODE")
    (node_ref (pin "D6" "C"))
    (node_ref (pin "R6" 2))
  )

  (net (code "23") (name "LED7")
    (node_ref (pin "U2" "QG"))
    (node_ref (pin "R7" 1))
    (node_ref (pin "SW7" 4))
    (node_ref (pin "SW7" 5))
    (node_ref (pin "D7" "A"))
  )

  (net (code "24") (name "LED7_CATHODE")
    (node_ref (pin "D7" "C"))
    (node_ref (pin "R7" 2))
  )

  (net (code "25") (name "LED8")
    (node_ref (pin "U2" "QH"))
    (node_ref (pin "R8" 1))
    (node_ref (pin "SW8" 4))
    (node_ref (pin "SW8" 5))
    (node_ref (pin "D8" "A"))
  )

  (net (code "26") (name "LED8_CATHODE")
    (node_ref (pin "D8" "C"))
    (node_ref (pin "R8" 2))
  )
)
