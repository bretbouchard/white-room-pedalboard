{
  "id": "artifact-1768346533926-vvjjzxp5w",
  "type": "pattern",
  "content": "## JUCE JavaScriptCore Integration Pattern\n\nThe JUCE framework has a built-in JavaScript interpreter module (`juce_javascript`) that provides platform-agnostic JavaScript execution using QuickJS engine. This is the recommended approach for integrating the Schillinger SDK with JUCE plugins, as it works across macOS, Windows, and Linux without platform-specific code.\n\nKey findings:\n- JUCE module location: `/juce_backend/external/JUCE/modules/juce_javascript/`\n- Main classes: `juce::JavascriptEngine`, `juce::JSObject`, `juce::JSCursor`\n- Platform-agnostic: Uses QuickJS engine embedded in JUCE\n- Existing tvOS integration uses native JavaScriptCore (platform-specific)\n- For cross-platform JUCE plugin, use JUCE's JavaScript module instead\n\nPattern for loading SDK bundle:\n1. Read the bundled JavaScript file (generated by `sdk/packages/core/scripts/build-sdk.js`)\n2. Create JavascriptEngine instance\n3. Execute the SDK bundle code to initialize global functions\n4. Call SDK functions: `createSchillingerSong()`, `realizeSong()`, `getVersion()`\n5. Handle exceptions and parse JSON responses\n\nCritical: JavaScript execution MUST NOT happen on audio thread. Use a background thread or message queue.",
  "metadata": {
    "scope": "repository",
    "tags": [
      "juce",
      "javascriptcore",
      "sdk-integration",
      "cross-platform"
    ],
    "confidence": 0.9
  },
  "timestamp": "2026-01-13T23:22:13.926Z"
}