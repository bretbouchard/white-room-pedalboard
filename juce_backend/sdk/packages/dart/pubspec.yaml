name: schillinger_sdk
description: Schillinger SDK v2.1 - Moving Sidewalk Realization System for Dart/Flutter
version: 2.1.0
homepage: https://github.com/schillinger-sdk/schillinger-sdk

environment:
  sdk: '>=3.0.0 <4.0.0'
  flutter: ">=3.10.0"

dependencies:
  flutter:
    sdk: flutter

  # Core dependencies
  ffi: ^2.1.0
  meta: ^1.10.0
  collection: ^1.18.0

  # Reactive programming
  rxdart: ^0.27.7
  stream_transform: ^2.1.0

  # Serialization
  json_annotation: ^4.8.1

  # Time and utilities
  intl: ^0.18.1
  uuid: ^4.2.1

  # FFI bindings (will be generated)
  schillinger_sdk_ffi: ^1.0.0

dev_dependencies:
  flutter_test:
    sdk: flutter

  # Build tools
  build_runner: ^2.4.7
  json_serializable: ^6.7.1
  ffigen: ^11.0.0

  # Testing
  mockito: ^5.4.2
  test: ^1.24.4
  integration_test:
    sdk: flutter

  # Linting
  flutter_lints: ^3.0.1
  very_good_analysis: ^5.1.0

flutter:
  plugin:
    platforms:
      android:
        ffiPlugin: true
      ios:
        ffiPlugin: true
      linux:
        ffiPlugin: true
      macos:
        ffiPlugin: true
      windows:
        ffiPlugin: true

# FFI Configuration
ffigen:
  name: SchillingerSDKFFI
  description: FFI bindings for Schillinger SDK
  output: 'lib/src/ffi/generated_bindings.dart'
  headers:
    entry-points:
      - 'packages/native/include/schillinger_cabi.h'
  compiler-opts:
    - '-Ipackages/native/include'

# Build configuration
targets:
  $default:
    builders:
      json_serializable:
        options:
          explicit_to_json: true
          include_if_null: false
          field_rename: snake_case