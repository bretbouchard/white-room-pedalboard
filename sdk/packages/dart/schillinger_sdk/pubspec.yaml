# Schillinger SDK - Dart Package
# Type-safe Dart SDK for music composition using Schillinger's System

name: schillinger_sdk
description: >
  Official Dart SDK for the Schillinger System of Musical Composition.
  Provides type-safe APIs for rhythm, harmony, melody, and composition generation
  using Schillinger's mathematical techniques.
version: 2.1.0
homepage: https://schillinger.ai
repository: https://github.com/schillinger/schillinger-sdk
issue_tracker: https://github.com/schillinger/schillinger-sdk/issues

# Dart/Flutter platform compatibility
platforms:
  linux:
  macos:
  windows:
  android:
  ios:

environment:
  sdk: '>=3.0.0 <4.0.0'
  flutter: '>=3.0.0'

# Dependencies
dependencies:
  ffi: ^2.1.0
  meta: ^1.9.0
  collection: ^1.17.0

# Dev dependencies
dev_dependencies:
  ffigen: ^9.0.0
  test: ^1.24.0
  build_runner: ^2.4.0
  json_annotation: ^4.8.0
  lints: ^3.0.0

# FFI configuration
flutter:
  plugin:
    platforms:
      linux:
        pluginClass: SchillingerPlugin
      macos:
        pluginClass: SchillingerPlugin
      windows:
        pluginClass: SchillingerPlugin

# Asset configuration for native library
assets:
  - native/lib/
  - native/include/

# Additional configuration
ignore:
  - native/build/
  - native/.cmake/

ffigen:
  name: 'SchillingerCAPI'
  description: 'Bindings to Schillinger SDK C ABI'
  output: 'lib/src/ffigen/schillinger_capi_generated.dart'
  headers:
    entry-points:
      - '../../native/schillinger_cabi/include/schillinger_cabi.h'
  functions:
    include:
      - schillinger_.*
      - rhythm_.*
      - harmony_.*
      - melody_.*
      - composition_.*
  structs:
    include:
      - SchillingerSDK
      - RhythmGenerator
      - HarmonyGenerator
      - MelodyGenerator
      - CompositionGenerator
  enums:
    include:
      - SchillingerStatus
  macros:
    include:
      - SCHILLINGER_.*
  typedefs:
    include:
      - SchillingerStatus
  unions:
    include:
      - RhythmResult
      - HarmonyResult
      - MelodyResult
      - CompositionResult
  comment-style: any
  typedef-map:
    'char*': 'Pointer<Utf8>'
  preamble: |
    // GENERATED CODE - DO NOT MODIFY BY HAND
    //
    // Generated by ffigen from schillinger_cabi.h
    // See: https://pub.dev/packages/ffigen
